---
title: "Linear Models"
author: "Statistics with R<br>
  <a href='https://therbootcamp.github.io'>
    Basel R Bootcamp
  </a>
  <br>
  <a href='https://therbootcamp.github.io/SwR_2019Apr/'>
    <i class='fas fa-clock' style='font-size:.9em;'></i>
  </a>&#8239; 
  <a href='https://therbootcamp.github.io'>
    <i class='fas fa-home' style='font-size:.9em;' ></i>
  </a>&#8239;
  <a href='mailto:therbootcamp@gmail.com'>
    <i class='fas fa-envelope' style='font-size: .9em;'></i>
  </a>&#8239;
  <a href='https://www.linkedin.com/company/basel-r-bootcamp/'>
    <i class='fab fa-linkedin' style='font-size: .9em;'></i>
  </a>"
date: "April 2019"
output:
  xaringan::moon_reader:
    css: ["default", "baselrbootcamp.css"]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: '16:9'
---

layout: true

<div class="my-footer">
  <span style="text-align:center">
    <span> 
      <img src="https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/by-sa.png" height=14 style="vertical-align: middle"/>
    </span>
    <a href="https://therbootcamp.github.io/">
      <span style="padding-left:82px"> 
        <font color="#7E7E7E">
          www.therbootcamp.com
        </font>
      </span>
    </a>
    <a href="https://therbootcamp.github.io/">
      <font color="#7E7E7E">
       Statistics with R | April 2019
      </font>
    </a>
    </span>
  </div> 

---

```{r, eval = TRUE, echo = FALSE, warning=F,message=F}
# Code to knit slides

```

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
# see: https://github.com/yihui/xaringan
# install.packages("xaringan")
# see: 
# https://github.com/yihui/xaringan/wiki
# https://github.com/gnab/remark/wiki/Markdown
options(width = 110)
options(digits = 4)

# Load packages
require(tidyverse)
```


# Linear Models

.pull-left45[

Linear models are, by far, the most widely used and important models in all of statistics

As we will see today, many statistical tests you may know of are special types of linear models.

Why are linear models so great?

- They are easy to interpret.
- They can approximate non-linear data well.
- They are easy to calculate and impliment (just addition and multiplication!).
- They just work!

]

.pull-right45[


]

---


# What is a linear model?

A linear model is one that can be written in the following form <br>


$$\Huge Y = \beta_{0} + \beta_{1}x_{1} + \beta_{2} x_{2} + \beta_{3} x_{3} + ... + \beta_{n}x_{n} + \epsilon$$

<br>

Or using summation notation:

$$\Huge Y = \beta_{0} + \sum_{i=1}^{n}\beta_{i}x_{i}+ \epsilon$$

All it is is basic addition and multiplication! 


---

.pull-left55[

# Simple Linear Regression

Simple linear regression is a linear model with one predictor $x$, and where the error term $\epsilon$ is Normally distributed.

$$\huge Y=\beta_{0} + \beta_{1} x + \epsilon$$
<br>

|Parameter|Description|In words|
|:------|:-----|:-----|
|$$\beta_{0}$$| Intercept|When $x = 0$, what is the predicted value for $Y$?|
|$$\beta_{1}$$| Coefficient for $x$|For every increase of 1 in $x$, how does $Y$ change?|


]


.pull-right4[

## Examples



]

---

.pull-left55[

# Multiple Linear Regression

Multiple linear regression is a linear model with many predictors $x_{1},  x_{2}, .... x_{n}$, and where the error term $\epsilon$ is Normally distributed.

$$\LARGE Y=\beta_{0} + \beta_{1}x_{1} + \beta_{2} x_{2}+...+ \beta_{n} x_{n} + \epsilon$$
<br>

|Parameter|Description|In words|
|:------|:-----|:-----|
|$$\beta_{0}$$| Intercept|When *all* $x$ values are 0, what is the predicted value for $Y$?|
|$$\beta_{1}, \beta_{2}, \beta_{3} \ldots$$| Coefficient for $x_{1}, x_{2}...$|For every increase of 1 in $x_{1}, x_{2}, ...$, how does $Y$ change?|
]


.pull-right4[

## Examples


]



---

# Estimating coefficients

- How do we estimate the 'right' coefficients in a linear model?

- Least Squares


- Other types of models use other methods (like maximum likelihood)

# Ex: which of the following linear models best describes the data?


---
# Establishing model performance

R2

Plot residuals

calculate mean absolute residual

---

# Testing individual coefficients

- Test statistic, p-value

---

# R


---
## glm()


- formula
- data

---

## evaluating

- rsq::rsq()
- summary()
- coef()
- broom::tidy()

---

## printing results

- fitted()
- resid()

- calculate mad with mean(abs(resid))

---

## Predict new values

predict()

---

class: middle, center

<h1><a href="https://therbootcamp.github.io/SwR_2019Apr/_sessions/LinearModelsI/LinerModelsI_practical.html">Practical</a></h1>

