<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Analysing</title>

<script src="Analysing_practical_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="Analysing_practical_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="Analysing_practical_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="Analysing_practical_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="Analysing_practical_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="Analysing_practical_files/navigation-1.1/tabsets.js"></script>
<link href="Analysing_practical_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="Analysing_practical_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="practical.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->





<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Analysing</h1>
<h4 class="author"><em><table style='table-layout:fixed;width:100%;border:0;padding:0;margin:0'>
<col width='10%'>
<col width='10%'>
<tr style="border:none">
<td style="display:block;width:100%;text-align:left;vertical-align:bottom;padding:0;margin:0;border:none" nowrap>
<font style='font-style:normal'>R for Data Science</font><br> <a href='https://therbootcamp.github.io/R4DS_2019Feb/'> <i class='fas fa-clock' style='font-size:.9em;' ></i> </a> <a href='https://therbootcamp.github.io'> <i class='fas fa-home' style='font-size:.9em;'></i> </a> <a href='mailto:therbootcamp@gmail.com'> <i class='fas fa-envelope' style='font-size: .9em;'></i> </a> <a href='https://www.linkedin.com/company/basel-r-bootcamp/'> <i class='fab fa-linkedin' style='font-size: .9em;'></i> </a> <a href='https://therbootcamp.github.io'> <font style='font-style:normal'>Basel R Bootcamp</font> </a>
</td>
<td style="width:100%;vertical-align:bottom;text-align:right;padding:0;margin:0;border:none">
<img src='https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/by-sa.png' style='height:15px;width:80px'/>
</td>
</tr>
</table></em></h4>

</div>


<p align="center">
<img width="100%" src="image/forsale.png" margin=0><br> <font style="font-size:10px">adapted from <a href="http://www.trueloveproperty.co.uk/houses-sale-ingham/">trueloveproperty.co.uk</a></font>
</p>
<div id="section" class="section level1 tabset">
<h1></h1>
<div id="overview" class="section level2">
<h2>Overview</h2>
<p>In this practical, you’ll practice grouping and analysing data with the <code>dplyr</code> and <code>tidyr</code> packages (part of the `tidyverse collection of packages).</p>
<p>By the end of this practical you will know how to:</p>
<ol style="list-style-type: decimal">
<li>Group data and calculate summary statistics</li>
<li>Run statistical analyses with the generalised linear model.</li>
</ol>
</div>
<div id="tasks" class="section level2">
<h2>Tasks</h2>
<div id="a---setup" class="section level3">
<h3>A - Setup</h3>
<ol style="list-style-type: decimal">
<li><p>Open your <code>BaselRBootcamp</code> R project. It should already have the folders <code>1_Data</code> and <code>2_Code</code>. Make sure that the data files listed in the <code>Datasets</code> section above are in your <code>1_Data</code> folder.</p></li>
<li><p>Open a new R script. At the top of the script, using comments, write your name and the date. Save it as a new file called <code>analysing_practical.R</code> in the <code>2_Code</code> folder.</p></li>
<li><p>Using <code>library()</code> load the packages <code>tidyverse</code> and <code>broom</code> which you’ll use in this practical</p></li>
</ol>
<pre class="r"><code>library(tidyverse)
library(broom)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>For this practical, we’ll use the <code>kc_house.csv</code> data. This dataset contains house sale prices for King County, Washington. It includes homes sold between May 2014 and May 2015. Using the following template, load the data into R and store it as a new object called <code>kc_house</code>.</li>
</ol>
<pre class="r"><code>kc_house &lt;- read_csv(file = &quot;XX/XX&quot;)</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Using <code>print()</code>, <code>summary()</code>, <code>head()</code>, and <code>View()</code>, explore the data to make sure it was loaded correctly.</li>
</ol>
</div>
<div id="b---recap" class="section level3">
<h3>B - Recap</h3>
<ol style="list-style-type: decimal">
<li><p>Print the names of the <code>kc_house</code> data with <code>names()</code>.</p></li>
<li><p>Change the following column names using <code>rename()</code>.</p></li>
</ol>
<table>
<thead>
<tr class="header">
<th align="left">New Name</th>
<th align="left">Old Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">living_sqft</td>
<td align="left">sqft_living</td>
</tr>
<tr class="even">
<td align="left">lot_sqft</td>
<td align="left">sqft_lot</td>
</tr>
<tr class="odd">
<td align="left">above_sqft</td>
<td align="left">sqft_above</td>
</tr>
<tr class="even">
<td align="left">basement_sqft</td>
<td align="left">sqft_basement</td>
</tr>
<tr class="odd">
<td align="left">built_yr</td>
<td align="left">yr_built</td>
</tr>
<tr class="even">
<td align="left">renovated_yr</td>
<td align="left">yr_renovated</td>
</tr>
</tbody>
</table>
<ol start="3" style="list-style-type: decimal">
<li>Create new column(s) <code>living_sqm</code>, <code>lot_sqm</code>, <code>above_sqm</code> and <code>basement_sqm</code> which show the respective room sizes in square meters rather than square feet (Hint: Multiply each by 0.093).</li>
</ol>
<pre class="r"><code>kc_house &lt;- kc_house %&gt;%
  mutate(living_sqm = XXX * XXX,
         lot_sqm = XXX * XXX,
         XXX = XXX,
         XXX = XXX)</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Add a new variable to the dataframe called <code>mansion</code> which is “Yes” when the <em>sum</em> of the house’s living, above, and basement space is above 750 square meters.</li>
</ol>
</div>
<div id="c---simple-summaries" class="section level3">
<h3>C - Simple summaries</h3>
<ol style="list-style-type: decimal">
<li>Using the base-R <code>df$col</code> notation, calculate the mean price of all houses.</li>
</ol>
<pre class="r"><code>mean(XXX$XXX)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Now, do the same using <code>summarise()</code> using the following template. Do you get the same answer? What is different about the output from <code>summarise()</code> versus using the dollar sign?</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  summarise(
    price_mean = mean(XXX)
  )</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><p>What is the <em>median</em> price of all houses? Use the <code>median()</code> function!</p></li>
<li><p>What was the highest selling price? Use the <code>max()</code> function!</p></li>
<li><p>Using the following template, sort the data frame in descending order of price. Then, print it. Do you see the house with the highest selling price at the top?</p></li>
</ol>
<pre class="r"><code>kc_house &lt;- kc_house %&gt;%
  arrange(desc(XXX))

kc_house</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>What percentage of houses sold for more than 1,000,000? Let’s answer this with <code>summarise()</code>.</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  summarise(mil_p = mean(XXX &gt; 1000000))</code></pre>
<ol start="7" style="list-style-type: decimal">
<li>For mansions <em>only</em>, calculate the mean number of floors and bathrooms (hint: before summarising the data, use <code>filter()</code> to only select mansions!)</li>
</ol>
</div>
<div id="d---simple-grouped-summaries" class="section level3">
<h3>D - Simple grouped summaries</h3>
<ol style="list-style-type: decimal">
<li>How many mansions are there? To do this, use <code>group_by()</code> to group the dataset by the <code>mansions</code> column, then use the <code>n()</code> function to count the number of cases.</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  group_by(XXX) %&gt;%
  summarise(XXX = n())</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>What is the mean selling price of mansions versus non-mansions? To do this, just add another argument to your <code>summarise()</code> function!</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  group_by(mansion) %&gt;%
  summarise(N = n(),
            XXX = XXX(XXX))</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Using <code>group_by()</code> and <code>summarise()</code>, create a dataframe showing the same results as the following table.</li>
</ol>
<table>
<thead>
<tr class="header">
<th align="left">mansion</th>
<th align="right">N</th>
<th align="right">price_min</th>
<th align="right">price_mean</th>
<th align="right">price_median</th>
<th align="right">price_max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">No</td>
<td align="right">20862</td>
<td align="right">75000</td>
<td align="right">504024</td>
<td align="right">441000</td>
<td align="right">3100000</td>
</tr>
<tr class="even">
<td align="left">Yes</td>
<td align="right">751</td>
<td align="right">404000</td>
<td align="right">1541915</td>
<td align="right">1300000</td>
<td align="right">7700000</td>
</tr>
</tbody>
</table>
<ol start="4" style="list-style-type: decimal">
<li><p>Do houses built in later years tend to have more living space? To answer this, group the data by <code>built_yr</code>, and then calculate the mean number of living square meters. Be sure to also include the number of houses built in each year!</p></li>
<li><p>Was that table too big? Try using the following code to get the results for each decade rather than each year!</p></li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  mutate(built_decade = floor(built_yr / 10)) %&gt;%
  group_by(built_decade) %&gt;%
  summarise(XX = XX,
            XX = XX(XX))</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>A friend of yours who is getting into Seattle real estate wants to know how the number of floors a house has affects its selling price. Create a table for her showing the minimum, mean, and maximum price for houses separated by the number of floors they have.</li>
</ol>
</div>
<div id="e---multiple-groups" class="section level3">
<h3>E - Multiple groups</h3>
<ol style="list-style-type: decimal">
<li>Your friend Brumhilda is interested in statistics on houses in the following 4 zipcodes only: 98001, 98109, 98117, 98199. Create a new dataframe called <code>brumhilda</code> that only contains data from houses in those zipcode (hint: use <code>filter()</code> combined with the <code>%in%</code> operator as follows:</li>
</ol>
<pre class="r"><code>brumhilda &lt;- kc_house %&gt;%
  filter(XXX %in% c(XXX, XXX, XXX, XXX))</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>For each of the zip codes, calculate the <code>mean()</code> and <code>median()</code> selling price (as well as the number of houses) in each zip code.</p></li>
<li><p>Now Brumhilda wants the same data separated by whether or not the house is a mansion or not. Include these results by also grouping the data by <code>mansion</code> (as well as <code>zipcode</code>), and calculating the same summary statistics as before.</p></li>
<li><p>Ok that was good, but now she also wants to know what the maximum and minimum number of floors were in each group. Add these summary statistics!</p></li>
</ol>
</div>
<div id="f---statistics" class="section level3">
<h3>F - Statistics</h3>
<ol style="list-style-type: decimal">
<li>Let’s see if there is a significant difference between the selling prices of houses on the waterfront versus those not on the waterfront. To do this, we’ll conduct a t-test using the <code>t.test()</code> function and assign the result to <code>waterfront_htest</code>. Fill in the XXXs in the code below, such that the dependent variable is <code>price</code> and the independent variable is <code>waterfront</code></li>
</ol>
<pre class="r"><code>waterfront_htest &lt;- t.test(formula = XXX ~ XXX,
                           data = XXX)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>Print your <code>waterfront_htest</code> object to see a printout of the main results.</p></li>
<li><p>Look at the names of your <code>waterfront_htest</code> object with <code>names()</code>.</p></li>
<li><p>Using the <code>$</code>, print the test statistic (<code>statistic</code>) from your <code>waterfront_htest</code> object.</p></li>
<li><p>Now using <code>$</code>, print only the p-value (<code>p.value</code>) from the object.</p></li>
<li><p>Which of the variables <code>bedrooms</code>, <code>bathrooms</code>, <code>living_sqm</code>, <code>waterfront</code>, <code>lat</code> and <code>long</code> best predict a house’s price (<code>price</code>)? Answer this by conducting a regression analysis using the <code>glm()</code> function and assign the result to <code>price_glm</code>. Fill in the XXXs in the code below.</p></li>
</ol>
<pre class="r"><code>price_glm &lt;- glm(formula = XXX ~ XXX + XXX + XXX + XXX + XXX + XXX,
                 data = XXX)</code></pre>
<ol start="7" style="list-style-type: decimal">
<li><p>Print your <code>price_glm</code> object. What do you see?</p></li>
<li><p>Look at the names of your <code>price_glm</code> object with <code>names()</code>.</p></li>
<li><p>Using <code>$</code> print the coefficients from your analysis.</p></li>
<li><p>Using the <code>summary()</code> function, show summary results from your <code>price_glm</code> object.</p></li>
<li><p>The <code>$residuals</code> element in your <code>price_glm</code> object contains the residuals (difference from the predicted and true dependent variable values). Add this vector as a new column called <code>residuals</code> to your <code>kc_house</code> object using <code>mutate()</code></p></li>
<li><p>Using the following template, create a histogram of the residuals.</p></li>
</ol>
<pre class="r"><code>ggplot(data = kc_house,
       aes(x = residuals)) +
  geom_histogram(col = &quot;white&quot;) +
  labs(title = &quot;Residual regression&quot;)</code></pre>
<ol start="12" style="list-style-type: decimal">
<li><p>What is the mean of the residuals? How do you interpret this?</p></li>
<li><p>Now, create a new column called <code>residuals_abs</code> which shows the absolute value of the residuals (hint: use the <code>abs()</code> function).</p></li>
<li><p>Create a histogram of the absolute value of the residuals.</p></li>
<li><p>What is the mean of the absolute value of the residuals? How do you interpret this? In general, do you think you can predict the price of a house very well based on the features in your regression model?</p></li>
</ol>
</div>
<div id="x---challenges" class="section level3">
<h3>X - Challenges</h3>
<ol style="list-style-type: decimal">
<li><p>Which zipcode has the highest percentage of houses on the waterfront? (Hint: group by zipcode, calculate the percentage of houses on the waterfront using <code>mean()</code>, then sort the data in descending order) with <code>arrange()</code>, then select the first row with <code>slice()</code>. Once you find it, try searching for that zipcode on Google Maps and see if its location makes sense!</p></li>
<li><p>Which house had the highest price to living space ratio? To answer this, create a new variable called <code>price_to_living</code> that takes <code>price / living_sqm</code>. Then, sort the data in descending order of this variable, and select the first row with <code>slice()</code>! What id value do you get?</p></li>
<li><p>Which are the top 10 zip codes in terms of mean housing prices? To answer this, group the data by zipcode, calculate the mean price, arrange the dataset in descending order of mean price, then select the top 10 rows!</p></li>
<li><p>Create the following dataframe <em>exactly</em> as it appears.</p></li>
</ol>
<table>
<thead>
<tr class="header">
<th align="right">built_yr</th>
<th align="right">N</th>
<th align="right">price_mean</th>
<th align="right">price_max</th>
<th align="right">living_sqm_mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1990</td>
<td align="right">320</td>
<td align="right">563966</td>
<td align="right">3640900</td>
<td align="right">234</td>
</tr>
<tr class="even">
<td align="right">1991</td>
<td align="right">224</td>
<td align="right">630441</td>
<td align="right">5300000</td>
<td align="right">244</td>
</tr>
<tr class="odd">
<td align="right">1992</td>
<td align="right">198</td>
<td align="right">548169</td>
<td align="right">2480000</td>
<td align="right">223</td>
</tr>
<tr class="even">
<td align="right">1993</td>
<td align="right">202</td>
<td align="right">556612</td>
<td align="right">3120000</td>
<td align="right">226</td>
</tr>
<tr class="odd">
<td align="right">1994</td>
<td align="right">249</td>
<td align="right">486834</td>
<td align="right">2880500</td>
<td align="right">209</td>
</tr>
<tr class="even">
<td align="right">1995</td>
<td align="right">169</td>
<td align="right">577771</td>
<td align="right">3200000</td>
<td align="right">224</td>
</tr>
<tr class="odd">
<td align="right">1996</td>
<td align="right">195</td>
<td align="right">639534</td>
<td align="right">3100000</td>
<td align="right">240</td>
</tr>
<tr class="even">
<td align="right">1997</td>
<td align="right">177</td>
<td align="right">606058</td>
<td align="right">3800000</td>
<td align="right">234</td>
</tr>
<tr class="odd">
<td align="right">1998</td>
<td align="right">239</td>
<td align="right">594159</td>
<td align="right">1960000</td>
<td align="right">241</td>
</tr>
</tbody>
</table>
<ol start="5" style="list-style-type: decimal">
<li><p>Create a regression object called <code>living_glm</code> predicting the amount of living space (<code>living_sqm</code>) as a function of <code>bedrooms</code>, <code>bathrooms</code>, <code>waterfront</code>, and <code>built_yr</code>. Explore the object with <code>names()</code> and <code>summary()</code>. Which variables seem to predict living space?</p></li>
<li><p>The <code>chisq.test()</code> function allows you to do conduct a chi square test testing the relationship between two nominal variables. Look at the help menu to see how the function works. Then, conduct a chi-square test to see if there is a relationship between whether a house is on the waterfront and the grade of the house. Do houses on the waterfront tend to have higher (or lower) grades than houses not on the waterfront?</p></li>
</ol>
</div>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<pre class="r"><code># Wrangling with dplyr and tidyr ---------------------------

library(tidyverse)    # Load tidyverse for dplyr and tidyr

# Load baselers data
baselers &lt;- read_csv(&quot;1_Data/baselers.txt&quot;)

# No grouping variables

bas &lt;- baselers %&gt;%
  summarise(
    age_mean = mean(age, na.rm = TRUE),
    income_median = median(income, na.rm = TRUE),
    N = n()
  )

# One grouping variable
bas_sex &lt;- baselers %&gt;%
  group_by(sex) %&gt;%
  summarise(
    age_mean = mean(age, na.rm = TRUE),
    income_median = median(income, na.rm = TRUE),
    N = n()
  )

bas_sex

# Two grouping variables
bas_sex_ed &lt;- baselers %&gt;%
  group_by(sex, education) %&gt;%
  summarise(
    age_mean = mean(age, na.rm = TRUE),
    income_median = median(income, na.rm = TRUE),
    N = n()
  )

# Advanced scoping

# Calculate mean of ALL numeric variables
baselers %&gt;%
  group_by(sex, education) %&gt;%
  summarise_if(is.numeric, mean, na.rm = TRUE)


# Examples of hypothesis tests on the diamonds -------------

library(tidyverse)
library(broom)
library(rsq)

# First few rows of the diamonds data

diamonds


# 2-sample t- test ---------------------------

# Q: Is there a difference in the carats of color = E and color = I diamonds?

htest_B &lt;- t.test(formula = carat ~ color,     # DV ~ IV
                   alternative = &quot;two.sided&quot;,  # Two-sided test
                   data = diamonds,         # The data
                   subset = color %in% c(&quot;E&quot;, &quot;I&quot;)) # Compare Diet 1 and Diet 2

htest_B  # Print result


# Regression ----------------------------


# Q: Create regression equation predicting price by carat, depth, table, and x

price_glm &lt;- glm(formula = price ~ carat + depth + table + x,
                  data = diamonds)

# Print coefficients
price_glm$coefficients

# Tidy version
tidy(price_glm)

# Extract R-Squared
rsq(price_glm)</code></pre>
</div>
<div id="datasets" class="section level2">
<h2>Datasets</h2>
<table>
<colgroup>
<col width="8%" />
<col width="10%" />
<col width="11%" />
<col width="70%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">File</th>
<th align="left">Rows</th>
<th align="left">Columns</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://raw.githubusercontent.com/therbootcamp/BaselRBootcamp_2018July/master/_sessions/_data//baselrbootcamp_data/kc_house.csv">kc_house.csv</a></td>
<td align="left">21613</td>
<td align="left">21</td>
<td align="left">House sale prices for King County between May 2014 and May 2015.</td>
</tr>
</tbody>
</table>
<p>1</p>
</div>
<div id="functions" class="section level2">
<h2>Functions</h2>
<div id="packages" class="section level3">
<h3>Packages</h3>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Package</th>
<th align="left">Installation</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>tidyverse</code></td>
<td align="left"><code>install.packages(&quot;tidyverse&quot;)</code></td>
<td align="left">A collection of packages for data science, including <code>dplyr</code>, <code>ggplot2</code> and others</td>
</tr>
<tr class="even">
<td align="left"><code>broom</code></td>
<td align="left"><code>install.packages(&quot;broom&quot;)</code></td>
<td align="left">Provides ‘tidy’ outputs from statistical objects.</td>
</tr>
</tbody>
</table>
</div>
<div id="functions-1" class="section level3">
<h3>Functions</h3>
<p><em>Wrangling</em></p>
<table>
<colgroup>
<col width="7%" />
<col width="12%" />
<col width="80%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Package</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>rename()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Rename columns</td>
</tr>
<tr class="even">
<td align="left"><code>select()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Select columns based on name or index</td>
</tr>
<tr class="odd">
<td align="left"><code>filter()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Select rows based on some logical criteria</td>
</tr>
<tr class="even">
<td align="left"><code>arrange()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Sort rows</td>
</tr>
<tr class="odd">
<td align="left"><code>mutate()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Add new columns</td>
</tr>
<tr class="even">
<td align="left"><code>case_when()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Recode values of a column</td>
</tr>
<tr class="odd">
<td align="left"><code>group_by(), summarise()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Group data and then calculate summary statistics</td>
</tr>
<tr class="even">
<td align="left"><code>left_join()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Combine multiple data sets using a key column</td>
</tr>
<tr class="odd">
<td align="left"><code>spread()</code></td>
<td align="left"><code>tidyr</code></td>
<td align="left">Convert long data to wide format - from rows to columns</td>
</tr>
<tr class="even">
<td align="left"><code>gather()</code></td>
<td align="left"><code>tidyr</code></td>
<td align="left">Convert wide data to long format - from columns to rows</td>
</tr>
</tbody>
</table>
<p><em>Statistical Tests</em></p>
<table>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Package</th>
<th align="left">Hypothesis Test</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>glm()</code>, <code>lm()</code></td>
<td align="left"><code>base</code></td>
<td align="left">Generalized linear model and linear model</td>
</tr>
<tr class="even">
<td align="left"><code>t.test()</code></td>
<td align="left"><code>base</code></td>
<td align="left">One and two sample t-test</td>
</tr>
<tr class="odd">
<td align="left"><code>wilcox.test()</code></td>
<td align="left"><code>base</code></td>
<td align="left">Wilcoxon test</td>
</tr>
<tr class="even">
<td align="left"><code>cor.test()</code></td>
<td align="left"><code>base</code></td>
<td align="left">Correlation test</td>
</tr>
<tr class="odd">
<td align="left"><code>chisq.test</code></td>
<td align="left"><code>base</code></td>
<td align="left">Chi-square tests for frequency tables</td>
</tr>
</tbody>
</table>
<p><em>Other</em></p>
<table>
<colgroup>
<col width="20%" />
<col width="22%" />
<col width="57%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Package</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>tidy()</code></td>
<td align="left"><code>broom</code></td>
<td align="left">Converts statistical objects to ‘tidy’ dataframes of key results</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="resources" class="section level2">
<h2>Resources</h2>
<div id="dplyr-vignette" class="section level3">
<h3><code>dplyr</code> vignette</h3>
<p>See the full <a href="https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html">dplyr vignette</a> with lots of wrangling tips and tricks.</p>
</div>
<div id="cheatsheets" class="section level3">
<h3>Cheatsheets</h3>
<p align="center" width="100%">
<a href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf"> <img src="https://image.slidesharecdn.com/data-wrangling-cheatsheet-160705210122/95/data-wrangling-with-dplyr-and-tidyr-cheat-sheet-1-638.jpg?cb=1467752577" style="width:70%"></a> <br> <font style="font-size:10px">from <a href="https://www.rstudio.com/resources/cheatsheets/">R Studio</a></font>
</p>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
